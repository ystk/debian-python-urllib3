From 2a42e70ff077006d5a6da92251ddbb2939303f94 Mon Sep 17 00:00:00 2001
From: "Seth M. Larson" <SethMichaelLarson@users.noreply.github.com>
Date: Tue, 27 Mar 2018 14:44:51 -0500
Subject: [PATCH] Move DEFAULT_REDIRECT_HEADERS_BLACKLIST under Retry

---
 urllib3/util/retry.py |    7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

--- a/urllib3/util/retry.py
+++ b/urllib3/util/retry.py
@@ -13,9 +13,6 @@ import six
 log = logging.getLogger(__name__)
 
 
-DEFAULT_REDIRECT_HEADERS_BLACKLIST = ['Authorization']
-
-
 class Retry(object):
     """ Retry configuration.
 
@@ -114,6 +111,8 @@ class Retry(object):
     DEFAULT_METHOD_WHITELIST = frozenset([
         'HEAD', 'GET', 'PUT', 'DELETE', 'OPTIONS', 'TRACE'])
 
+    DEFAULT_REDIRECT_HEADERS_BLACKLIST = frozenset(['Authorization'])
+
     #: Maximum backoff time.
     BACKOFF_MAX = 120
 
@@ -131,7 +130,7 @@ class Retry(object):
             raise_on_redirect = False
 
         if remove_headers_on_redirect is None:
-            remove_headers_on_redirect = DEFAULT_REDIRECT_HEADERS_BLACKLIST
+            remove_headers_on_redirect = self.DEFAULT_REDIRECT_HEADERS_BLACKLIST
         remove_headers_on_redirect = set(remove_headers_on_redirect)
 
         self.redirect = redirect
